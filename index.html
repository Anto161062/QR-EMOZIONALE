<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MySenza · QR Etichette</title>
  <meta name="description" content="Indice leggero dei QR per etichette MySenza (front/back).">
  <style>
    :root{--bg:#fcfbf7;--card:#ffffff;--text:#1b1b1b;--muted:#6b7280;--border:#e5e7eb;--accent:#b59a25}
    *{box-sizing:border-box} html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    .container{max-width:980px;margin:0 auto;padding:22px}
    header{padding:8px 0 18px}
    h1{font-size:clamp(22px,4.2vw,34px);line-height:1.1;margin:0}
    p.sub{margin:6px 0 0;color:var(--muted)}
    .grid{display:grid;gap:16px}
    @media(min-width:800px){.grid{grid-template-columns:repeat(2,1fr)}}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px}
    .row{display:grid;grid-template-columns:120px 1fr;gap:14px;align-items:center}
    .qr{width:120px;height:120px;border-radius:12px;border:1px solid #e8e3cf;box-shadow:0 4px 14px rgba(0,0,0,.05);}
    .title{font-weight:700;margin:0 0 4px 0}
    .links{display:flex;gap:10px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:#fff;cursor:pointer;text-decoration:none;color:#1b1b1b}
    .btn.primary{background:#fff8e1;border-color:#ecd9a6}
    footer{margin-top:28px;color:#888;font-size:13px}
    .pill{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;border:1px solid var(--border);color:#7b7b7b}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>MySenza · QR Etichette</h1>
      <p class="sub">Indice leggero per etichette reali. Apri le pagine o scansiona i QR qui sotto. <span class="pill">Front = emozione/carrello · Back = offerta/WhatsApp</span></p>
    </header>

    <div class="grid">
      <!-- Citri Fructus -->
      <div class="card">
        <div class="row">
          <img id="qrc_citri_front" class="qr" alt="QR Citri Front">
          <div>
            <p class="title">Citri Fructus — Front</p>
            <div class="links">
              <a class="btn primary" href="citri_front.html" target="_blank" rel="noopener">Apri pagina</a>
              <a class="btn" id="copy_citri_front" href="#">Copia URL</a>
              <a class="btn" id="png_citri_front" href="#" download>Scarica PNG QR</a>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="row">
          <img id="qrc_citri_back" class="qr" alt="QR Citri Back">
          <div>
            <p class="title">Citri Fructus — Back (WhatsApp)</p>
            <div class="links">
              <a class="btn primary" href="citri_back.html" target="_blank" rel="noopener">Apri pagina</a>
              <a class="btn" id="copy_citri_back" href="#">Copia URL</a>
              <a class="btn" id="png_citri_back" href="#" download>Scarica PNG QR</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Placeholder: VaniLime (se duplicherai i file) -->
      <div class="card">
        <div class="row">
          <img id="qrc_vani_front" class="qr" alt="QR VaniLime Front">
          <div>
            <p class="title">VaniLime — Front (aggiungi vanilime_front.html)</p>
            <div class="links">
              <a class="btn primary" href="vanilime_front.html" target="_blank" rel="noopener">Apri pagina</a>
              <a class="btn" id="copy_vani_front" href="#">Copia URL</a>
              <a class="btn" id="png_vani_front" href="#" download>Scarica PNG QR</a>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <div class="row">
          <img id="qrc_vani_back" class="qr" alt="QR VaniLime Back">
          <div>
            <p class="title">VaniLime — Back (aggiungi vanilime_back.html)</p>
            <div class="links">
              <a class="btn primary" href="vanilime_back.html" target="_blank" rel="noopener">Apri pagina</a>
              <a class="btn" id="copy_vani_back" href="#">Copia URL</a>
              <a class="btn" id="png_vani_back" href="#" download>Scarica PNG QR</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div>© 2025 MySenza – Sensazioni che diventano Momenti</div>
    </footer>
  </div>

  <script>
    // Utility per comporre URL assoluti dei file nella stessa repo
    function abs(path){
      const base = location.origin + location.pathname.replace(/index\.html?$/,''); 
      return base + path;
    }
    function setQR(idImg, targetPath){
      const url = abs(targetPath);
      const api = "https://api.qrserver.com/v1/create-qr-code/?size=240x240&data=" + encodeURIComponent(url);
      const img = document.getElementById(idImg);
      if(img){ img.src = api; img.dataset.url = url; img.dataset.png = api; }
    }
    function setupActions(copyBtnId, pngBtnId, imgId){
      const copyBtn = document.getElementById(copyBtnId);
      const pngBtn = document.getElementById(pngBtnId);
      const img = document.getElementById(imgId);
      if(copyBtn && img){
        copyBtn.addEventListener('click', (e)=>{ e.preventDefault(); navigator.clipboard.writeText(img.dataset.url||''); copyBtn.textContent='Copiato ✔'; setTimeout(()=>copyBtn.textContent='Copia URL',1200); });
      }
      if(pngBtn && img){
        pngBtn.addEventListener('click', (e)=>{ e.preventDefault(); pngBtn.href = img.dataset.png||'#'; pngBtn.download = imgId + ".png"; pngBtn.click(); });
      }
    }

    // Inizializza QRs per i file presenti
    setQR('qrc_citri_front', 'citri_front.html');
    setQR('qrc_citri_back',  'citri_back.html');

    // Placeholder (si attiveranno quando carichi i file vanilime_*)
    setQR('qrc_vani_front',  'vanilime_front.html');
    setQR('qrc_vani_back',   'vanilime_back.html');

    setupActions('copy_citri_front','png_citri_front','qrc_citri_front');
    setupActions('copy_citri_back','png_citri_back','qrc_citri_back');
    setupActions('copy_vani_front','png_vani_front','qrc_vani_front');
    setupActions('copy_vani_back','png_vani_back','qrc_vani_back');
  </script>
</body>
</html>
